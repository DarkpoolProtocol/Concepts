Darkpool-数字资产交易所

抽象

加密货币的市值和交易量每个月都在迅速增长。随着机构投资者进入加密货币市场，替代交易系统的开发对于交易大型加密资产同时保持最小的价格滑落和市场影响至关重要。

我们生活在金融世界中。货币激励和市场动向影响我们的日常决策，并总体上决定着人们的生活。在资本主义制度下，金融业已成为表达人与机构之间经济关系的全球性工具。如今，现有的财富分配机制效率低下，经济环境不稳定。缺乏信任变得不可避免，我们正在进入去中心化金融（DeFi）的新时代。没有交易对手的参与者之间的无国界，可访问且透明的交互以改变旧的和低效的金融工具是无信经济的新范例。

我们介绍了Darkpool，这是第一个将广泛的数字资产桥接到DeFi的去中心化暗池协议。考虑到互操作性和扎实的团队跨链专业知识，Darkpool区块链将为Cosmos生态系统带来新的市场，为用户提供DeFi应用程序和服务的流动性和必要的基础。交易放置在隐藏的订单簿上，并通过基于多方计算协议的引擎进行匹配。这样可以在不暴露市场敏感信息（例如价格和交易量在某个位置）的情况下执行订单，这将为其他交易者带来优势。 Darkpool消除了使用受信任的中介机构运营暗池的需求，并通过协议令牌为治理提供了加密经济激励措施；支持开发安全，分散，可扩展的暗池协议，该协议每天可处理数十亿交易量。


介绍
区块链技术的出现使得能够开发出一种由密码验证支持的全新资产。比特币（BTC）和以太坊（ETH）是两种基于区块链的加密货币，截至所有其他加密货币的总市值已超过。

2017年11月，BTC和ETH交易量超过$ 181B（不包括场外交易和在私人论坛上执行的交易）。这一统计数字，再加上芝商所集团和纳斯达克交易所宣布的比特币期货市场，标志着机构投资者希望获得数字加密资产的兴趣。随着机构和富裕人士希望将大量财富部署到加密货币中，我们必须开发基础基础设施来支持这种数量的交易。

从根本上讲，黑池是私人交易所，在金融交易中，金融资产和工具通过隐藏订单簿上运行的引擎进行交易和匹配。这些交易所主要是为服务于机构或高净值散户投资者而创建的，这些机构或系统的散户投资者需要一种能够以最小的价格滑落来大宗交易资产的系统。暗池估计约占所有美国股票交易总交易量的15％[6]。根据BTC和ETH的交易量推断该统计数据，这样的黑池有可能每月执行$ 27.2B的订单。我们引入了Darkpool协议，该协议通过分散的暗池促进以太坊，ERC20和比特币加密货币的交换。这是通过在加密的子领域内进行研究来实现的，例如安全的多方计算，这使我们能够开发匹配的引擎以在分布式隐藏订单簿上运行。我们通过原子交换促进跨链交易，并实施适当的经济激励措施，以确保彻底执行这些交易。与集中式暗池或交换相比，暗池协议消除了资产盗窃，没收或来自恶意交换运营商的干扰的风险。这将导致机构投资者下达大宗订单和利用Darkpool协议进行暗池交易之间的更大信任。此外，Darkpool协议是通用的，并且在底层协议的操作方式上高度透明。

5G的诞生

第五代移动网络5G比4G快数百倍。 5G作为高度依赖技术的媒体行业，无论是构建广播电视高起点，现代化影视网络转型的现代通信网络，5G都对大数据行业产生深远影响，或促进传统区块链多节点技术的集成。

由于5G技术的三个特点：超高速，超大连接和超低延迟，随着5G时代的到来，区块链交易数据传输的生产方式和接收方式将发生相应的变化。网络速度的限制和限制也将逐渐减少。分散交换将直接从中受益，并成为人们基本生活消费的形式。因此，它将成为数据传输的主力军。分散式交换也将受益于5G，并面临新一轮爆发。

去中心化交易所行业目前正处于发展的曙光时期。随着有缺陷的集中式交易所的增长越来越快，那些欺骗性促销活动对传统交易所造成的资产损失也越来越大。但是，分散交易在保证交易安全性的数据透明性方面发挥了很好的作用，但它需要大量带宽来支持可用性，因此5G技术正好开启了这个DEX时代的良好用例。

同时，BPOS行业已成为高素质投资者进入DEX的海洋市场，其中最好的交易者通过公平交易机制在短时间内就获得了惊人的利润。随着趋势不断发展的金融技术的发展，参与者将受益匪浅，其中最出色的人在短时间内就获得了难以想象的巨额利润。

基本组成

●去中心化隐藏订单簿
○分散的，隐藏的订单簿。
●分散订单匹配
○不了解基本细节就匹配订单
●原子交换基础架构
○无需信任即可在比特币，以太坊和基于以太坊的代币之间交换的能力。
●协议令牌
○DAP令牌

动机

●大宗订单的基础架构
●跨链交易
●对黑池的无信任，公平访问
●集中风险

暗池协议

Darkpool协议如何工作

Darkpool协议的主要技术目标是使分散的节点网络能够
在不了解订单的情况下匹配订单。虽然这似乎是不可能的，但可以通过应用在过去30年中经过深入研究的密码技术来实现。修改它们以适合分散计算的世界。
Darkpool协议使用BPOS [1]将订单分解为大量的订单片段，并将其分布在整个网络中。除非重组大多数订单片段，否则无法重建订单。为了防止这种情况的发生，Darkpool协议在称为注册器的本机链机制中定义，该机制将节点组织到网络拓扑中，这使得对手获取足够多的订单片段来重建订单是不合理的困难。只要交易者遵守注册服务商定义的网络拓扑，他们的订单就将是安全的。如果他们不这样做，则只有他们自己的订单有被暴露的风险。使用来自两个不同订单的订单片段，一个节点可以与其他拥有相同两个订单的其他订单片段的节点合作，以执行分散计算，以确定两个订单是否匹配。分散计算不会暴露订单碎片，而是对最终输出[2] [3]进行随机缩放。这样可以防止节点重建原始订单，并防止节点使用输出推断有关订单的任何信息。零知识证明用于验证计算的完整性，而不会泄露任何信息。这些证明简单而有效，允许它们通过称为“债券”的公共链来执行[3]。在匹配两个订单之后，两个交易者之间将通过去中心化的对等网络Darkpool Hub网络发起原子交换。使用标准的非对称加密原语，原子交换的详细信息将保持安全。

系统属性

Darkpool协议提供以下属性：
1.在暗池中，交易者的身份是安全的。所交易的基础加密货币可能会为隐私提供不同的限制。
2.交易员在匹配订单时不必保持连接到网络。下订单后，节点将运行匹配计算，直到找到匹配或订单过期（手动或通过交易者指定的截止日期）为止。
3.在订单匹配之前，订单是安全的。匹配后，订单的一些详细信息会透露给匹配方。这是订单安全性的自然极限，因为双方都知道他们提交的内容，并且双方都需要知道何时发生匹配。请注意，在这些情况下公开的信息不会给任何一方提供任何信息优势。
4.任何参与者都无法合理地估计Darkpool的总流动性。

假设条件

Darkpool协议基于以下假设构建：
I.有一个受信任的第三方，它将始终如实执行计算，但计算能力有限（即21个超节点共识）。
二。参与者的行为是理性的，如果没有经济上的动机，他们将不会参与，并会努力使自己的利润最大化。这样，我们不假定参与者通过恶意行为可以最大程度地获利，他们将诚实行事。

对抗性假设

《黑池协议》做出了以下对抗性假设：
I.对手无法破坏假设（II）先前定义的受信任的第三方。具体而言，对手无法破坏Darkpool网络所做的计算的正确性。建立在Darkpool上的所有平台都需要做出这种对抗性假设。
二。对手的财务和计算能力有限。有限的财务能力是在现实世界中做出的合理假设，而计算能力自然受到财务能力的限制。
III。用于构造密码基元的计算难题非常安全。所有使用任何形式的加密技术的区块链（包括比特币和以太坊）都做出了这一假设。

安全模式

定义安全模型使我们能够分析Darkpool协议提供的安全保证。 《暗池协议》利用了真实与理想的范式。针对某个不存在的理想世界分析一个现实世界中的分散协议的安全性，在理想世界中存在一个可信任的，不会被破坏的第三方，该第三方可用于处理所有敏感信息并执行所有敏感计算（不是与以太坊相同，因为以太坊上的所有交易和数据都是公开可用的）。暗池协议的安全性可以通过证明在理想世界中现实世界中任何可能的攻击也是可能的来证明。由于理想世界很难定义，因此实际协议通过暗示是安全的。对于存在主动和被动对手的分散计算协议，这种安全性分析方法是典型的。理想的Darkpool协议包含一个受信任且不会腐败的第三方T。交易者将其订单提交给T，并且T保证永远不会透露这些订单的详细信息。 T不断尝试匹配已提交的订单，并且当找到匹配项时，T会通知相应的交易者。交易者各自将其加密货币提交给T，如果他们都这样做，则T交换加密货币并将其返回给交易者。这样就完成了交易。只有在理想协议上也可能对真实协议进行所有攻击时，真实的Darkpool协议才被认为是安全的。从理想的《黑池协议》的定义中可以明显看出，这种等效是足够的。

除非网络中的大多数节点是活动的对手，否则Darkpool协议能够保证它与理想的世界协议一样安全。如果50％的节点是活动的对手，并且他们在攻击者的最佳情况下都处于满意状态，则他们能够重构所有订单。但是，《暗池协议》确保了在现实世界中无法实现这种最佳情况。在典型情况下，有50％的节点成为活动对手将仅允许对手重建50％的订单。在“攻击与防御”中给出了更详细的说明。

分散订单匹配

订单匹配是节点之间无法匹配订单细节的匹配过程。为此，交易者首先将他们的订单分解为一组订单片段。请注意，这些片段并不能单独代表订单价值的一小部分，它们只是代表与基础订单有关的敏感数据的分离。订单片段本身不会显示任何有关基本订单的信息，但是当组合了订单的至少一半订单片段时，可以重新构建该订单（有关防止这种情况的详细信息，请参阅“攻击和防御”）。每个节点对来自多个不同订单的订单片段执行订单匹配计算，并将结果与​​来自节点（使用不同片段）的结果进行组合。片段的构建方式使得在应用计算后，可以将所得片段进行组合，以揭示基础订单的顺序匹配计算结果，而不是基础订单。
这具有几个不错的属性。对于一个，仅需要一半的订单片段即可重建订单。激励节点以避免串通（对手很难颠覆该系统，请参阅“攻击与防御”）。这意味着，如果一半节点意外死亡，或在顺序匹配计算中途离开网络，则网络仍可以完成计算。

这使其对DDoS攻击和预期的故障具有高度的弹性。

顺序片段的构建方式使得顺序匹配计算可以使用应用于多项式的任何函数，并且可以涉及两个或多个基础订单。这允许非常灵活的订单匹配计算。节点可以根据确切的价格点来匹配订单，部分匹配订单（当由于当前可用的流动性而只能匹配某些订单时），匹配三元组（或更多）的订单以增加流动性（例如，三元组BTC到ETH，DOLLAR-to-DAP和DAP-to-DOLLAR，其中仅对不能找到匹配项。假设存在全国最佳出价和报价（NBBO）数据的分散式，基于共识的数据流，则订单匹配计算甚至可以涉及没有明确价格点的订单。

得失

节点竞相发现订单匹配。找到的任何匹配项都必须注册，以便其他节点可以查看已关闭的订单。通知相关的交易者，并且所有匹配的订单都不能参与将来的匹配。这是在Darkpool网络上的假设（1）下完成的。如果两个订单不匹配，则它们将继续用于以后的匹配游戏中。如果订单在到期之前无法匹配，则将退还相关费用。结合其输出以注册匹配项的节点将获得一定费用，以激励他们诚实地参与订单匹配游戏（请参阅“激励层”）。这也激励他们尽快匹配尽可能多的订单，因为随着时间的流逝，这与更高的奖励相关。 Darkpool协议还包括一个原子交换协议，该协议在已匹配订单的交易者之间启动。节点有助于传递消息（并在可能的情况下在交易者之间建立直接的P2P连接）来执行订单。请注意，由于区块链可以进行有限的通信方式，交易者不能受限于订单执行（有关下假订单的信息，请参阅“攻击与防御”）。但是，通过使用交易员债券，可以极大地激励交易员忠实执行订单。

订单匹配期间甚至订单匹配后，Darkpool Protocol节点都无法显示订单详细信息。即使恶意对手能够执行51％的攻击，订单碎片的分布方式也使得对手只能重构50％的订单（攻击者获得的攻击百分比越高，订单率越高重建）。

DAP令牌

在假设（II）下，必须激励计算节点以执行顺序匹配计算。如果参与者没有经济上的动力，他们不太可能愿意运行订单匹配节点，尤其是在运行和维护订单匹配节点不是免费的情况下。引入了DAP令牌以提供这种激励。它也用于向注册服务商支付保证金，从而使交易员和订单匹配节点可以参与Darkpool。

订单费用

费用为系统的用户（即交易者）提供了一种去中心化的机制，以补偿那些提供满足用户需求所必需的计算能力（即节点）的用户。这在假设（II）下是必要的。交易者在提交定单时要以DAP支付定单费。如果订单在匹配之前过期，则订单费用将退还给贸易商。参与已匹配订单的分散计算的任何节点都将收到一部分定单费用（通过在所有参与节点之间平均分配定单费用来计算份额）。订单费用是可变的，并且在假设（II）下，订单匹配节点将偏爱具有较高订单费用的订单。但是，节点没有动力忽略订单，特别是因为它们不知道交易者的身份，也不知道订单的细节。节点可用的唯一信息是为成功匹配此订单他们将收到的DAP数量。请注意，所有订单匹配实际上将导致向每个参与节点进行两次支付，从匹配的每一侧进行一次支付。

债券

通过将订单分解为几个分布在整个网络中的订单片段来保护订单。试图重建订单的对手可能会与具有大量节点的网络一起加入，希望他们将收到大部分订单碎片（我们稍后会看到这是
实际上不可行）。同样，对手可能提交大量虚假命令（他们不打算执行）以试图探查合法命令。为了防止此类Sybil攻击并提供一种简单的标识机制，交易者和节点必须在DAP中提交绑定，然后才能被允许访问网络。该保证金与Registrar智能合约中的单个身份相关联，任何人都可以查询注册状态。当交易者或节点离开网络时，债券将全额退还。交易者可以自由地提交灵活的保证金，而更高的金额则允许更多的并行未结订单（金融保证金越大，执行Sybil攻击的难度就越大，因此可以安全地提交更多的订单）。

节点必须在DAP中提交的保证金要高于某些全局定义的阈值（可以根据需要设置此阈值，以使保证金要求保持在足够大的财务承诺之上）。由于此阈值是动态的，因此节点可以更改绑定数量，但是节点可以选择但不能参与，除非其绑定高于阈值。在验证过程中，挑战者和证明者（通常分别是交易者和一组订单匹配节点）将他们的债券放到线上。如果挑战者是正确的，则无法提供真实计算证据的证明者将失去联系。同样，如果所有证明者都是正确的，则挑战者将失去联系。通过这种方式，DAP债券也起到了欺骗作弊的作用。

进攻与防御

订单重建
攻击者不会发现只要维持其n个顺序片段中的n / 2的顺序的安全性。如果对手确实获取了n / 2（或更多）个订单片段，则可以重建原始订单。因此，重要的是要了解针对这种攻击的适当防御措施。

Darkpool中的节点被划分为n个不相交的集合，其中每个订单份额随机分配到任意一个集合中的最多两个节点。为了模拟对该拓扑的攻击，我们假设对手可以完全控制要破坏的节点（Darkpool协议强制节点实际上是在不相交的集合中随机分布的，这意味着此假设为对手提供了比其强大的能力事实上）。

理想的攻击场景是对手破坏n / 2个集合中的所有节点，从而确保为每个单个订单获取n / 2个订单碎片。假设每个池的大小大致相同，则对手必须控制50％的网络。请注意，对手无法控制将在哪个集合中注册其节点，从而使这种类型的攻击变得不可能。

实际上，当控制50％的网络时，对手最有可能控制所有n个不交集的50％的节点。在此控制级别上，对手成功获取每个订单片段的概率为0.5，但必须成功获取n / 2个订单片段才能知道订单。我们可以将其建模为二项分布。

令X为成功获取的订单片段的数量，p为获取任何一个订单片段的概率，n为对手对任意一个订单片段的尝试次数。

此公式依赖于不相交集的数量n，它与Darkpool中的节点数量成正比。

错误订单

当两个订单匹配时，两个匹配方都知道Darkpool中存在一些相应的订单（否则将不会发生匹配）。对手可以利用这一点来试图了解黑池的流动性。

假设没有对手时，黑池中有n个合法命令。为了简化分析，我们还假设有利于对手的是，对手知道暗池中订单的最大价格点（实际上，这是不可能的，对手将不得不做出一些猜测）。
如果我们假设所有合法订单都不匹配，那么对手需要提交n个错误订单（以最高价格）以发现所有订单。与网络其余部分支付的费用相比，对手需要将100％的财务承诺与网络订购的费用相匹配。通过假设（II），这是不现实的，并且随着使用暗池而变得越来越困难。

现在，我们假设n个合法订单中的每一个都具有一个完全正确的匹配，并且攻击者可以通过以下方式分配其订单片段，即错误订单以p = 50％的概率匹配。再次，这种假设有利于对手，因为他们实际上不知道如何进行这种分配。

对于具有相应成功概率的二项式分布，给定试验的完全成功概率为：

[图片1.1]

例如，如果n = 100且p = 0.5，则概率约为54％。这表明，与整个网络相比，只有对订购费用做出实质性承诺，再加上许多有利的假设，对手才能洞悉黑池的流动性。
该分析没有考虑到任何一位交易者可以提交的订单数量有限。为了提交大量的虚假订单，交易者还需要在债券注册中投入大量的财务权力。

将来的版本还将讨论交易者如果不执行错误订单将必须没收其债券的方法。将分析的这三个部分考虑在内：深入了解黑池所需的大量定单费用，提交那么多订单所需的大量保证金，以及在不执行虚假订单时牺牲的大量保证金，对抗性假设（II）可以通过提交虚假命令来阻止对手暴露黑池的流动性。

西比尔攻击

在Darkpool协议中，防御订单重建攻击（和虚假订单攻击）需要将身份与节点（或交易者）相关联。这为敌方伪造多个身份（称为Sybil攻击）以颠覆网络提供了可能性。

为了防止这种情况，所有节点和交易者都必须提交保证金以注册身份。在对抗假设（2）下，对抗者的财务能力有限，我们可以肯定的是，对抗者不能伪造大量身份。

对于恶意节点，保证金需要阻止在分配订单份额期间阻止大量节点的注册和获取足够数量的订单份额（请参阅“订单重建”）。为了使此方法有效，绑定必须足够高，以使对手无法注册大量节点，但必须足够小，以使诚实节点仍然能够参与。

债券数量应在全球范围内保持一致（所有节点都必须达到相同的阈值），但应保持动态，以解决债券货币价值的波动。对于恶意交易者，可以使用保证金进一步阻止提交大量虚假订单（请参阅“虚假订单”）。这是通过要求交易者提交指向其注册债券的订单来完成的。保证金数量和最大定单数量之间存在线性关系。因此，提交B债券并被允许M个未结订单的交易者可以提交B / 2债券并被允许M / 2个未结订单。债券的注册将由以太坊网络处理，并且不受假设（1）的约束。

暗池码头

我们引入了一个基于Web的分散式应用程序（DApp），供交易者使用Darkpool协议。该实时终端为交易员提供了下达，取消或修改订单的功能。用户还可以查看仅自己可见的订单状态和历史记录。

经济学与美元储备

当Darkpool协会发布其关于美元储备运营的想法时，该文档旨在作为概念证明，而不是该项目的最终路线图。自2019年6月以来，我们已与许多不同的组织，监管机构，政策制定者和学者举行会议，以了解关键问题并将可行的改进措施整合到Darkpool网络的经济设计中。这些在世界各地举行的磋商和会议对于指导我们的发展方向非常重要。特别是，该协会非常感谢G7工作组在稳定币方面所做的彻底和周到的研究。报告中提出的关切有助于突出指出需要立即解决的问题以及可能出现的长期挑战。

大家共同关心的一个主要问题是，如果网络在一个国家达到较大规模（即DOLLAR成为本国货币的替代品），则多币种美元硬币（DOLLAR）可能会干扰货币主权和货币政策。尽管我们认为这不太可能，因为DOLLAR会在国内交易中为硬币持有人引入外汇敞口，并且DOLLAR的使用可能会受到诸如外汇管制之类的限制，但我们对此非常重视。

Darkpool网络被设计为可在全球范围内使用的低成本支付系统，是对本国货币的补充而不是替代。稳定货币和保值是在公共部门专有职权范围内的关键努力。因此，我们通过添加单一货币稳定币（例如DOLLAR，CNY，HKD，EUR等）来增强Darkpool网络，并计划随着时间的推移增加单一货币稳定币的数量。通过使个人和企业能够以自己的货币计价的稳定币进行交易，这些功能将实现一系列家庭使用案例。每个单一货币的稳定币将得到以该货币计价并由该货币的母国发行的现金或现金等价物储备以及非常短期的政府证券的支持。单币稳定币只能根据市场对该币的需求进行铸造和燃烧。由于每个硬币都有1：1的支持，因此这种方法不会产生新的净货币。

什么是权益证明（PoS）？

如果您知道比特币的工作原理，那么您可能已经熟悉工作证明（PoW）。通过这种机制，可以将交易汇总成多个块。然后，将这些块链接在一起以创建区块链。更具体地说，矿工竞相解决一个复杂的数学难题，谁先解决难题，谁就有权利将下一个区块添加到区块链中。

工作量证明是一种非常有效的机制，可以以分散的方式促进共识。问题是，它涉及大量的任意计算。矿工竞相解决的难题除了确保网络安全外，没有其他目的。有人可能会争辩说，这本身就使得这种过多的计算是合理的。在这一点上，您可能会想知道：是否有其他方法可以在不增加计算成本的情况下保持分散式共识？

输入权益证明。主要思想是参与者可以锁定硬币（它们的“赌注”），并且协议在特定间隔内随机分配其中一个的权限以验证下一个区块。 通常，被选择的概率与硬币数量成正比–锁定的硬币越多，机会就越高。

放样选择过程
这样，确定哪些参与者创建区块的方法并不能像工作量证明那样基于他们解决哈希挑战的能力。取而代之的是，由他们持有多少枚硬币来决定。

有人可能会争辩说，通过放样生产区块可以为区块链提供更高程度的可扩展性。这是计划在一系列技术升级（统称为ETH 2.0）中将以太坊网络从PoW迁移到PoS的原因之一。

什么是委托权益证明（DPoS）？

Daniel Larimer于2014年开发了该机制的替代版本，称为委托权益证明（DPoS）。它最初被用作BitShares区块链的一部分，但不久之后，其他网络采用了该模型。其中包括Steem和EOS，它们也是Larimer创建的。

DPoS允许用户将其硬币余额作为投票，投票权与所持有硬币的数量成正比。然后使用这些投票选出一些代表其选民管理区块链的代表，以确保安全性和共识。通常，将赌注奖励分配给这些当选代表，然后由他们按比例将部分奖励分配给其选民。

DPoS模型允许使用更少数量的验证节点来达成共识。这样，它倾向于增强网络性能。另一方面，由于网络依赖选择的验证节点组较小，因此分散程度也可能较低。这些验证节点处理区块链的操作和整体治理。他们参与达成共识和定义关键治理参数的过程。

简而言之，DPoS允许用户通过网络的其他参与者传达其影响力。

放样如何工作？
正如我们之前所讨论的，工作量证明区块链依靠挖掘来向区块链添加新的区块。相比之下，权益证明链将通过放样过程产生并验证新的区块。抵押涉及验证者锁定硬币，以便协议可以在特定间隔内随机选择它们以创建一个区块。通常，投注额较大的参与者更有可能被选为下一个区块验证者。

这样就可以在不依赖专用采矿硬件（例如ASIC）的情况下生产模块。虽然ASIC挖矿需要在硬件上进行大量投资，但抵押需要对加密货币本身进行直接投资。因此，与其竞争下一个计算工作块，不如根据他们下注的硬币数量选择PoS验证器。 “利益”（硬币持有）是激励验证者维护网络安全的因素。如果他们不这样做，他们的全部股份可能会面临风险

虽然每个权益证明区块链都有其特定的权益货币，但某些网络采用双令牌系统，其中奖励以第二令牌支付。

在非常实际的水平上，放样仅意味着将资金存放在合适的钱包中。这实际上使任何人都可以执行各种网络功能，以换取股权奖励。这可能还包括将资金添加到权益池中，我们将在稍后介绍。

液体权益证明（LPoS）

在LPoS中，委派是可选的。令牌持有者可以将验证权委托给其他令牌持有者，而无需进行托管，这意味着令牌保留在委托人的钱包中。另外，在安全性错误（例如双重认可或双重烘烤）的情况下，仅验证者会受到处罚。 LPoS还具有投票权，除了作为令牌持有者之外，您可以直接在协议修订本中投票，而不仅仅是像DPoS这样的人来保护网络安全。

LPoS由Tezos首次引入，Tezos是由Kathleen和Arthur Breitman创建的链上治理协议，自2018年9月以来一直在主网中平稳运行。事实证明，Tezos中的LPoS非常成功，目前的持股比例约为80 ％分布在450位验证者和13,000位代表中。委托人的数量在技术上受到债券规模最低要求的限制，在当前参数的情况下，可以达到约70,000-极大的权力下放🏆。

担保权益证明（BPoS）

BPoS与LPoS非常相似：委派是可选的，非监护性的，令牌持有者可从协议修订中受益于投票权。不过，有一个理由将其称为BPoS：如果发生安全或活动故障，将大幅减少验证人和代表的部分股份。在LPoS中，只有验证者有被削减的风险，而委托者的唯一风险是错过了一些奖励/利益，以防其验证者不诚实或效率低下。

这种BPoS机制的优点是可以为权益比率（类似于资本要求）问题提供清晰的解决方案，如果某些LPoS协议的验证者不希望过度授权并令某些委托人失望，则必须维持该比率。在解决此问题的同时，这也意味着委托人需要在委托前进行额外的尽职调查，并保持积极性来验证其验证器的性能。

BPoS最初是由诸如Cosmos和IRISnet（基于Cosmos SDK / Tendermint构建）的项目引入的。两者都是非常有趣的链间协议，请看🚀。如果您好奇的话，我们为IRISnet做了简短的介绍。在诸如Cosmos和IRISnet之类的BPoS协议中，验证器的数量将有限，从100个开始，并根据其总股份的大小（自有股份+授权）进行选择。

内向的

我们相信，这种方法可以降低成本并启用新功能，同时为Darkpool网络提供最大的灵活性和控制力，以控制其国家/地区使用Darkpool付款系统的方式。必须通过Darkpool网络中的活跃循环来定义DOLLAR的创建，并且必须通过固定的计算来创建DOLLAR，并将其定义为熵。可以燃烧DAP验证者的有效份量，以使DOLLAR的含量被熵化。这种共识机制使外部清算提供者可以将DOLLAR与USDT交换。结果，DAP价格的上涨使DOLLAR的股票价格受到ERC20 USDT的1：1钉住支持，从而对USDT起到了对熊市的对冲或真正的交易手段的作用，而没有明显的波动性。它允许去中心化稳定币参与去中心化交易所和金融市场等更广泛的金融应用，为DeFi开发创造了广阔的空间。

去中心化治理和所有权

最令人兴奋的部分是，每个人都可以参与项目的发展，并拥有网络的份额。拥有原始令牌DAP的所有参与者都将获得有效治理的奖励，具体取决于交易费用，总供应量排放和偿还的贷款费用。 Darkpool生态系统在设计时考虑了BTC或XRP等现有资产。如果我们假设只有1％的BTC会参与DeFi，那将导致超过15亿美元的价值注入，也将增加BTC的稀缺性，从而对整个加密货币市场产生积极影响。

流通量

最初，协会希望基于相关货币中流动性强且安全的政府证券市场的存在，提供少量的单币种稳定币。我们希望与世界各地的监管机构，中央银行和金融机构合作，随着时间的推移，扩大Darkpool网络上可用的单一货币稳定币的数量，并探索与他们进行直接监管的技术，运营和法律要求。特别是，如果在网络上没有单一货币稳定币的地区采用该货币会引起人们对货币替代的担忧，那么协会可以与相关中央银行和监管机构合作，在Darkpool网络上提供稳定币。该协会欢迎有关如何帮助支持当地货币和宏观审慎政策的反馈。

转让

对于在Darkpool网络上没有单一货币稳定币的国家，我们认为DOLLAR是中立且低波动的替代方案，可以确保此类地区的用户可以从访问网络和增强金融包容性中受益。在这种情况下，DOLLAR可以作为跨境交易中的结算代币，个人和企业可以将收到的DOLLAR转换为本地货币，以通过第三方金融服务提供商在商品和服务上花费。例如，考虑一个美国的Darkpool用户想要向另一个国家的家人汇款。美国的发件人可能会使用DOLLAR作为其默认的Darkpool稳定币进行转账。如果接收方居住在Darkpool网络上具有不同单一货币稳定币的地区，则发送方可以转移该单一货币稳定币，或者接收方可以通过第三方金融服务将USDT转换为该单一货币稳定币或本地货币提供者，为接收者提供访问和使用资金的便捷选择。如果单币稳定币不可用，则可以以美元进行转移。接收方可以通过第三方金融服务提供商将DOLLAR转换为其本国货币，以该货币购买商品和服务。 Darkpool网络本身不会提供，记录或结算Darkpool硬币与法定货币或其他数字资产之间的转换；相反，如上所述，任何此类交换功能都将由第三方金融服务提供商进行。无论地区如何，我们预计都将要求所有虚拟资产服务提供商（VASP）（例如在Darkpool区块链上具有地址的货币交易所，以持有和转让Darkpool Coins）完全遵守所有适用的外汇限制和资本管制措施减轻货币替代风险。

此外，我们希望随着中央银行开发中央银行数字货币（CBDC），这些CBDC可以直接与Darkpool网络集成，从而消除了Darkpool Networks管理相关储备金的需要，从而降低了信贷和托管风险。例如，如果中央银行开发美元，欧元或英镑，港元的数字表示形式，则协会可以用CBDC替换适用的单一货币稳定币。

单币稳定币简化了DOLLAR的设计。 DOLLAR可以实现为智能合约，以固定的名义权重（例如DOLLAR 0.50，EUR 0.18，GBP 0.11等）汇总单币稳定币。 DOLLAR设计的这种方法类似于国际货币基金组织（IMF）在特别提款权（SDR）中使用的方法。由于DOLLAR由网络支持的固定数量的单币稳定币组成，因此DOLLAR完全由储备资产支持，这些储备资产支持每种单币稳定币。

Darkpool网络旨在通过扩展法定货币的功能来支持全球跨境交易所，法定货币适当地处于共识BPOS的治理和控制之下。在这种新方法下，我们力求减少对货币主权的担忧，并帮助为世界各地的人们和企业带来更便捷的付款和金融产品。

暗池保护区
Darkpool网络经济设计的关键目标是建立一种有效付款方式的信任。 Darkpool网络上的每种稳定币将得到高质量流动资产储备的全面支持，并由竞争性的经销商和交易所买卖每种硬币的网络所支持。这意味着Darkpool Coin的持有者应该高度保证他们可以将Darkpool Coins转换为当地货币。

托管和指定经销商
构成储备金的资产将由资本充足的托管银行的地理分布网络持有，以提供资产的安全性和分散性。我们希望这些机构已经采取了许多减轻风险的措施。协会建议对这些保管人采取其他措施，以确保储备金资产不能用于借贷，质押或重新抵押，或以其他方式（即使是暂时的）从储备金帐户中移出，也不能用于确保抵押品的义务。与提供给Darkpool Networks的托管服务无关的保管人。

Darkpool Networks不会直接与消费者对接，而是将与一定数量的指定经销商合作，以将流动性扩展至面向消费者的产品，例如钱包和交易所。这些指定交易商将致力于使市场价差小，并能够容纳大量交易。如果发生极端情况并且指定交易商不再利用Darkpool Coins进行交易，则Darkpool Networks将要求与第三方管理员或交易商达成既有安排，以行政身份协助燃烧Darkpool Coins供最终用户使用并清算。构成准备金的资产，以酌情付款。这些紧急行动将始终在共识政府的指导下实施。

区块链间通信协议（IBC）是任何基于DP-SDK的区块链进行通信的可靠安全方法。从根本上讲，IBC负责将“数据包”从一个区块链中继到另一个区块链，同时从应用程序开发人员摆脱维护连接，数据完整性和实时通信的复杂性。最近，Cosmos发布了IBC规范，中继器实现以及用于构建跨链应用程序的示例代码。尽管IBC规范中充斥着技术概念和术语，但您无需了解如何在协议级别上实现IBC － DP IBC实现已经消除了大多数复杂性。实际上，应用程序开发人员只需了解两个关键组件即可与IBC一起使用：

1.包
具有与序列相关的元数据（由IBC规范定义）和不透明值字段（称为数据包数据）的特定数据结构（具有由应用层定义的语义，例如令牌数量和面额）

2.中继过程
中继器进程是一个脱链过程，负责通过扫描两个或更多机器的状态并提交事务来在两个或多个机器之间中继IBC数据包和元数据。

Band Protocol是一个基于DP-SDK的跨链数据Oracle平台，该平台可聚合现实数据和API并将其连接到智能合约。区块链智能合约非常适合不变的存储和确定性，可验证的计算-但是，它们仍然无法访问区块链网络外部可用的数据和API。带协议使智能合约应用程序可以完全灵活地构建在链上，供开发人员指定其数据类型，数据源和聚合方法，而无需依赖单点故障或集中式预言。
以下是一些您可以使用IBC和频段协议构建的DeFi应用程序示例：
1.稳定币
2.贷款平台
3.衍生代币（其他资产的镜像价格）
4.保证金交易
5.分散交易
6.预测市场

应用架构
DAP链的生态系统包含4个不同的组件：
1. DAP链-我们正在构建的基于DP SDK的区块链。
2. Darkpool Hub —托管DAP令牌的区块链。它为在Darkpool Chain上铸造的DOLLAR令牌提供了基础价值。
3. BandChain —用于分散数据预言的区块链。它使DAP Chain可以使用传统的交易所交易符号（黄金的交易符号）和外部来源的DAP价格信息。
4.中继器-在多个区块链之间中继数据包的第三方软件。它们允许多个区块链以安全和不信任的方式进行互操作。

ETH桥区
作为Ethereum DP Bridge项目的一部分，单向Peggy是从以太坊区块链到基于DP-SDK的区块链跨链价值转移的起点。该系统接受以太坊智能合约上的以太坊代币的传入转移，在验证交易时将其锁定并向Cosmos桥链上的预期接收者发放公平资金。

单向Peggy专注于单向传输的核心功能。该原型包含安全锁定和解锁以太坊的功能，并在Cosmos链上铸造相应的代表性代币。

该体系结构包括4个部分。每个部分以及操作的逻辑流程如下所述。

1.智能合约
2.中继器
3. EthBridge模块
4. Oracle模块

智能合约

首先，将智能合约部署到以太坊网络。然后，用户可以将以太坊发送到该智能合约以锁定其以太坊并触发转移流程。

在此原型中，该系统由合同的部署者管理，该部署者在内部指定为中继器，这是一个受信任的第三方，可以解锁资金并退还其原始发送者。如果合同的余额受到威胁，则中继器可以暂停系统，从而暂时阻止用户存入额外的资金。

中继器

Relayer是与两个区块链都接口的服务，允许验证者在Cosmos区块链上证明以太坊区块链上发生了特定事件。通过中继器服务，验证者可以见证事件并以签名哈希的形式向基于Cosmos的模块提交证据，这些模块负责汇总和计算验证者的签名及其各自的签名能力。

中继器过程如下：

持续监听LogLock事件
当看到事件时，解析与以太坊交易相关的信息
使用此信息来建立未签名的DP事务
签名并将此交易发送给Tendermint。

EthBridge模块

EthBridge模块是一个DP-SDK模块，负责接收和解码涉及以太坊桥声明的事务，并处理成功声明的结果。

流程如下：

接收到带有EthBridge模块消息的事务
该消息被解码并转换为通用的，非以太坊专有的Oracle声明
根据以太坊交易的随机数为oracle声明赋予唯一ID
通用索赔将转发到Oracle模块。
如果声明成功，EthBridge模块将在稍后恢复。

Oracle模块

Oracle模块旨在成为一个更通用的oracle模块，该模块可以从不同的验证器获取任意声明，保留它们并在达到特定阈值后就这些声明执行共识。在该项目中，它用于找到有关以太坊链上活动的声明的共识，但其设计目的是将来能够用于任何其他种类的类似于甲骨文的功能（例如：关于天气的声明）。

流程如下：

从另一个模块（在这种情况下为EthBridge）收到索赔
对该声明以及来自其他验证器的具有相同唯一ID的其他过去声明进行检查
一旦活动的Tendermint验证程序集的赌注阈值要求相同，则声明更新为成功
如果活动的Tendermint验证程序的赌注阈值不一致，则将索赔更新为失败
索赔的状态返回到提供索赔的模块。

EthBridge模块（第2部分）
EthBridge模块还包含有关如何处理结果的逻辑。

流程如下：

Oracle处理完索赔后，将返回状态
如果索赔成功，则通过银行模块铸造代表以太坊的新代币

架构图
！[https://github.com/swishlabsco/cosmos-ethereum-bridge/blob/master/ethbridge.jpg?raw=true]（图表）

如何参与
该协会构想了一个充满活力的开发人员社区，他们在开发应用程序和服务，以促进Darkpool网络的全球使用。该协会将成功定义为使全球任何个人或企业能够公平，负担得起并立即获得其金钱。例如，成功意味着在国外工作的人可以快速简便地将钱汇回家中，大学生可以像买咖啡一样轻松地支付房租。

我们的旅程才刚刚开始，我们要求社区提供帮助。如果您相信Darkpool网络可以为全球数十亿人做些什么，请分享您的观点并加入进来。需要您的反馈意见，以使金融普惠成为世界各地人们的现实。

如果您是研究人员或协议开发人员，则可以在Apache 2.0 Open Source License（随附的文档）下获得Darkpool测试网的预览。 testnet仍在开发中，但您可以立即阅读，构建并提供反馈。该协会致力于建立面向社区的开发流程，并向开发人员开放平台。协会的TSC已任命首席维护人员和最初的维护人员组，并建立了公开透明的流程来接受Darkpool Improvement Proposals（DXP）的技术建议。这些将很快出版。

如果您的组织有兴趣向协会申请社会影响补助金，请在此处了解更多信息。